(this.webpackJsonpface_blur=this.webpackJsonpface_blur||[]).push([[0],{109:function(e,t,n){e.exports=n(232)},119:function(e,t,n){},127:function(e,t){},129:function(e,t){},163:function(e,t){},164:function(e,t){},232:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n.n(a),c=n(96),o=n.n(c),i=(n(58),n(97)),l=n(98),u=n(106),s=n(99),f=n(107),h=n(235),d=n(233),m=n(100),p=n.n(m),b=(n(119),n(10)),g=n.n(b),w=n(19),O=n(101),v=n(17),j=n(234),y=n(16);function E(){return x.apply(this,arguments)}function x(){return(x=Object(w.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="/Face_Blur/models",e.next=3,y.h(t);case 3:return e.next=5,y.f(t);case 5:return e.next=7,y.g(t);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function R(e){return k.apply(this,arguments)}function k(){return(k=Object(w.a)(g.a.mark((function e(t){var n,a,r,c,o,i,l=arguments;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=l.length>1&&void 0!==l[1]?l[1]:512,a=.5,r=new y.c({inputSize:n,scoreThreshold:a}),c=!0,e.next=6,y.e(t);case 6:return o=e.sent,e.next=9,y.d(o,r).withFaceLandmarks(c).withFaceDescriptors();case 9:return i=e.sent,e.abrupt("return",i);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var L=n(102);function U(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?U(n,!0).forEach((function(t){Object(O.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):U(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var I={imageURL:null,fullDesc:null,detections:null,descriptors:null,match:null},C=Object(j.a)((function(){var e=Object(a.useState)(S({},I,{faceMatcher:null})),t=Object(v.a)(e,2),n=t[0],c=t[1],o=Object(a.useState)(!1),i=Object(v.a)(o,2),l=i[0],u=i[1],s=Object(a.useState)(!1),f=Object(v.a)(s,2),h=f[0],d=f[1],m=Object(a.useState)(null),p=Object(v.a)(m,2),b=p[0],O=p[1],j=Object(a.useState)(!1),y=Object(v.a)(j,2),x=y[0],k=y[1],U=Object(a.useRef)(null),C=Object(a.useRef)(null),F=Object(a.useRef)(null);Object(a.useEffect)((function(){window.addEventListener("load",N,!1),window.addEventListener("resize",N,!1)}),[]),Object(a.useEffect)((function(){console.log(n),l&&P()}),[n.imageURL]),Object(a.useEffect)((function(){n.detections&&h&&D()}),[n.detections,h]),Object(a.useEffect)((function(){function e(){return(e=Object(w.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return O("\ud559\uc2b5 \ubaa8\ub378\uc744 \ubd88\ub7ec\uc624\uace0 \uc788\uc2b5\ub2c8\ub2e4..\ud83c\udfc3\u200d\u2640\ufe0f"),e.next=3,E().then((function(){console.log("\ubaa8\ub378 \ub85c\ub4dc \uc644\ub8cc"),O(null),u(!0),n.imageURL&&P()}));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var P=function(){var e=Object(w.a)(g.a.mark((function e(){var t,a=arguments;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=a.length>0&&void 0!==a[0]?a[0]:n.imageURL,console.log("handleImage"),!t){e.next=8;break}return O(null),e.next=6,R(t).then((function(e){if(console.log(e),e){console.log(n);var t=S({},n);t.descriptors=e.map((function(e){return e.descriptor})),t.detections=e.map((function(e){return e.detection})),c(t),console.log(t)}}));case 6:e.next=9;break;case 8:O("\uc774\ubbf8\uc9c0\ub97c \ubc1b\uc544\uc62c \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.");case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),B=function(){var e=Object(w.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("handleFile"),!U.current.files[0]){e.next=7;break}return e.next=4,c({imageURL:URL.createObjectURL(U.current.files[0]),loading:!0});case 4:O(null),d(!1),k(!1);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),D=function(){var e=C.current,t=e.getContext("2d"),a=F.current,r=(n.imageURL,n.detections);n.match;e.width=a.width,e.height=a.height,console.log(a.naturalWidth),console.log(a.naturalHeight),N(),console.log(n),t.clearRect(0,0,e.width,e.height),t.filter="none",r&&(r.length>0?r.map((function(n,r){t.drawImage(a,0,0,e.width,e.height);var c=n.box.height,o=n.box.width,i=n.box._x+o/2,l=n.box._y+c/2;t.filter="blur(10px)",t.beginPath(),t.arc(i,l,c/2,0,2*Math.PI),t.clip(),t.drawImage(a,0,0,e.width,e.height)})):k(!0));var o=S({},n);o.loading=!1,c(o)},N=function(){console.log("resize");var e=C.current,t=e.width/e.height,n=window.innerHeight,a=n*t;a>window.innerWidth&&(n=(a=window.innerWidth)/t),e.style.width=a+"px",e.style.height=n+"px"},_=n.imageURL,z=(n.detections,n.match,!!window.chrome&&(!!window.chrome.webstore||!!window.chrome.runtime)),A=["\u2728\uc5bc\uad74 \ube14\ub7ec \ucc98\ub9ac\u2728","\u2728FACE BLUR YOUR IMAGE\u2728"],W=["\u2b07\ufe0f \ube14\ub7ec \ucc98\ub9ac \uc774\ubbf8\uc9c0 \ub2e4\uc6b4\ub85c\ub4dc","\u2b07\ufe0f Download Blured Image"],M=["\ud83e\udd33 \uc5bc\uad74 \uc774\ubbf8\uc9c0 \uc62c\ub9ac\uae30","\ud83e\udd33 Upload Face Image"],T=Object(a.useState)("\u2728FACE BLUR YOUR IMAGE\u2728"),G=Object(v.a)(T,2),H=G[0],J=G[1],Y=Object(a.useState)("\u2b07\ufe0f Download Blured Image"),$=Object(v.a)(Y,2),q=$[0],K=$[1],Q=Object(a.useState)("\ud83e\udd33 Upload Face Image"),V=Object(v.a)(Q,2),X=V[0],Z=V[1],ee=0;return Object(a.useEffect)((function(){setInterval((function(){A.length>ee&&(J(A[ee]),K(W[ee]),Z(M[ee]),++ee===A.length&&(ee=0))}),2e3)}),[]),r.a.createElement("div",{style:{backgroundColor:"#1a1a1a",height:"100vh",width:"100vw",margin:-8}},r.a.createElement("div",{id:"titleText"},H),r.a.createElement("div",{className:"flexContainer"},r.a.createElement("button",{className:"buttonStyle"},r.a.createElement("label",{style:{cursor:"pointer"}},X,r.a.createElement("input",{style:{display:"none"},ref:U,type:"file",onChange:B,accept:".jpg, .jpeg, .png"}))),r.a.createElement("button",{className:"buttonStyle",onClick:function(){!function(e,t){var n=document.createElement("a");n.download=t,n.href=e,n.click()}("data:"+C.current.toDataURL("image/jpeg"),"yourImage.jpeg")}},q)),r.a.createElement("div",{style:{height:"1rem"}}),!!b&&r.a.createElement("div",{style:{color:"white",fontSize:"2rem"}},b),!z&&r.a.createElement("div",{style:{color:"white"}},"\ube14\ub7ec \ucc98\ub9ac\uc5d0 \uc0ac\uc6a9\ud558\ub294 canvas \uc758 filter\uac00 \ud604\uc7ac \ube0c\ub77c\uc6b0\uc800\uc5d0\uc11c\ub294 \uc81c\uacf5\ub418\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4.",r.a.createElement("br",null),"\ud06c\ub86c\uc73c\ub85c \ub2e4\uc2dc \uc2dc\ub3c4\ud574\uc8fc\uc2dc\uaca0\uc5b4\uc694?",r.a.createElement("br",null),"The filter of canvas tag used to blur effect is not available in the current browser, can you try again with Chrome?"),!!x&&r.a.createElement("div",{style:{color:"white",fontSize:"2rem"}},"\ud83d\udd75\ufe0f\u200d\u2640\ufe0f \uc774\ubbf8\uc9c0\uc5d0\uc11c \uc5bc\uad74\uc744 \ucc3e\uc9c0 \ubabb\ud588\uc5b4\uc694. ",r.a.createElement("br",null),"\ud83d\udd75\ufe0f\u200d\u2640\ufe0f No face on the image."),r.a.createElement("canvas",{ref:C}),r.a.createElement("img",{src:_,ref:F,alt:"imageURL",style:{display:"none"},onLoad:function(){d(!0)}}),!0===n.loading?r.a.createElement("div",{className:"flexContainerCenter"},r.a.createElement("div",{style:{flex:1}},r.a.createElement(L.BarLoader,{color:"#123abc",loading:!!n.loading}),r.a.createElement("div",{style:{height:20}}),r.a.createElement("span",null,"\ub85c\ub529\uc911!_!"))):r.a.createElement(r.a.Fragment,null))})),F=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement(h.a,{history:p()({basename:"/Face_Blur"})},r.a.createElement("div",{className:"route"},r.a.createElement(d.a,{exact:!0,path:"/",component:C}))))}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(F,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},58:function(e,t,n){}},[[109,1,2]]]);
//# sourceMappingURL=main.75940f30.chunk.js.map